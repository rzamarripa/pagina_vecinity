// Vecinity Landing Page - Optimized & Minified
document.addEventListener('DOMContentLoaded',function(){const e=document.getElementById('mobile-menu-button'),t=document.getElementById('mobile-menu');e&&t&&(e.addEventListener('click',n=>{n.preventDefault(),t.classList.toggle('hidden');const i=e.querySelector('i'),s=t.classList.contains('hidden');s?(i.classList.remove('fa-times'),i.classList.add('fa-bars'),e.setAttribute('aria-expanded','false')):(i.classList.remove('fa-bars'),i.classList.add('fa-times'),e.setAttribute('aria-expanded','true'))}),t.querySelectorAll('a').forEach(n=>{n.addEventListener('click',()=>{t.classList.add('hidden');const i=e.querySelector('i');i.classList.remove('fa-times'),i.classList.add('fa-bars')})}));const n=document.getElementById('navbar');let i=0;window.addEventListener('scroll',()=>{const e=window.pageYOffset;e>100?n.classList.add('shadow-lg'):n.classList.remove('shadow-lg'),i=e}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener('click',function(t){t.preventDefault();const n=this.getAttribute('href');if('#'===n)return;const i=document.querySelector(n);if(i){const e=i.getBoundingClientRect().top+window.pageYOffset-80;window.scrollTo({top:e,behavior:'smooth'})}})});const o=document.querySelectorAll('.faq-button');o.forEach(e=>{e.addEventListener('click',()=>{const t=e.nextElementSibling,n=e.querySelector('i');o.forEach(i=>{if(i!==e){const e=i.nextElementSibling,t=i.querySelector('i');e.classList.remove('active'),e.classList.add('hidden'),i.classList.remove('active'),t.classList.remove('fa-chevron-up'),t.classList.add('fa-chevron-down')}}),t.classList.toggle('hidden'),t.classList.toggle('active'),e.classList.toggle('active'),t.classList.contains('active')?(n.classList.remove('fa-chevron-down'),n.classList.add('fa-chevron-up')):(n.classList.remove('fa-chevron-up'),n.classList.add('fa-chevron-down'))})});const s=document.getElementById('contact-form'),a=document.getElementById('form-message');function c(e,t){const n=['name','email','phone','community_type','units_count'];for(const t of n)if(!e[t]||''===e[t].trim())return l(`Por favor, completa el campo: ${d(t)}`,'error'),!1;if(!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e.email))return l('Por favor, ingresa un email válido','error'),!1;return!!e.privacy||(l('Debes aceptar la política de privacidad','error'),!1)}function d(e){return{name:'Nombre',email:'Email',phone:'Teléfono',community_type:'Tipo de comunidad',units_count:'Número de casas/departamentos'}[e]||e}function l(e,t){a.textContent=e,a.classList.remove('hidden','bg-green-100','bg-red-100','text-green-700','text-red-700'),'success'===t?a.classList.add('bg-green-100','text-green-700'):a.classList.add('bg-red-100','text-red-700'),a.classList.remove('hidden'),setTimeout(()=>{a.classList.add('hidden')},5e3)}function r(e){return new Promise((t,n)=>{console.log('Form Data:',e),setTimeout(()=>{Math.random()>.1?t({success:!0}):n(new Error('Simulated error'))},1500)})}function u(e,t='info'){document.querySelectorAll('.toast').forEach(e=>e.remove());const n=document.createElement('div');n.className=`toast ${t}`;let i='fa-info-circle';'success'===t&&(i='fa-check-circle'),'error'===t&&(i='fa-exclamation-circle'),n.innerHTML=`<div class="flex items-center"><i class="fas ${i} mr-3 text-xl"></i><span>${e}</span></div>`,document.body.appendChild(n),setTimeout(()=>{n.style.animation='slideInRight 0.5s ease reverse',setTimeout(()=>n.remove(),500)},4e3)}s.addEventListener('submit',async e=>{e.preventDefault();const t=Object.fromEntries(new FormData(s));if(!c(t))return;const n=s.querySelector('button[type="submit"]'),i=n.innerHTML;n.innerHTML='<div class="spinner mr-2"></div> Enviando...',n.disabled=!0;try{await r(t),l('¡Gracias por tu interés! Nos pondremos en contacto contigo pronto.','success'),s.reset(),u('Formulario enviado exitosamente','success')}catch(e){l('Hubo un error al enviar el formulario. Por favor, intenta nuevamente.','error'),u('Error al enviar el formulario','error')}finally{n.innerHTML=i,n.disabled=!1}});const f=document.createElement('button');f.innerHTML='<i class="fas fa-arrow-up"></i>',f.className='fixed bottom-8 right-8 w-12 h-12 bg-gradient-to-r from-primary to-secondary text-white rounded-full shadow-lg hover:shadow-xl transition-all duration-300 transform hover:-translate-y-1 z-50 hidden',f.setAttribute('aria-label','Volver arriba'),document.body.appendChild(f),window.addEventListener('scroll',()=>{window.pageYOffset>300?f.classList.remove('hidden'):f.classList.add('hidden')}),f.addEventListener('click',()=>{window.scrollTo({top:0,behavior:'smooth'})}),document.querySelectorAll('input, textarea, select').forEach(e=>{e.addEventListener('focus',()=>{const t=e.previousElementSibling;t&&'LABEL'===t.tagName&&t.classList.add('text-primary')}),e.addEventListener('blur',()=>{const t=e.previousElementSibling;t&&'LABEL'===t.tagName&&t.classList.remove('text-primary')})}),document.addEventListener('keydown',e=>{const t=document.getElementById('mobile-menu'),n=document.getElementById('mobile-menu-button');if('Escape'===e.key&&t&&!t.classList.contains('hidden')&&(t.classList.add('hidden'),n)){const e=n.querySelector('i');e&&(e.classList.remove('fa-times'),e.classList.add('fa-bars'))}'Escape'===e.key&&document.querySelectorAll('.faq-button').forEach(e=>{const t=e.nextElementSibling,n=e.querySelector('i');t&&t.classList.contains('active')&&(t.classList.remove('active'),t.classList.add('hidden'),e.classList.remove('active'),n&&(n.classList.remove('fa-chevron-up'),n.classList.add('fa-chevron-down')))})})});
